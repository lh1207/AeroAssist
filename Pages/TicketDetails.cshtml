@page
@model AeroAssist.Data.Models.TicketModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Ticket Details";
}

<div below-nav>
    <h1>Ticket Details</h1>

    @{
        System.Diagnostics.Debug.Assert(Model.Ticket != null, "Model.Ticket != null");
    }

    <div class="btn-group mb-3" role="group" aria-label="Ticket Actions">
        <button onclick="location.href='@Url.Page("/EditTicket", new { id = Model.Ticket.TicketId})'" type="button" class="btn btn-primary">Edit</button>
        <form method="post">
            @Html.AntiForgeryToken()
            <input type="hidden" name="_method" value="delete" />
            <input type="hidden" name="id" value="@Model.Ticket.TicketId" />
            <button id="deleteButton" type="submit" onclick="return confirm('Are you sure you want to delete this ticket?');" class="btn btn-danger">Delete</button>
        </form>
    </div>

    @if (Model.Ticket != null)
    {
        var ticket = Model.Ticket;
        <ul class="list-group">
            <li class="list-group-item"><b>TicketId: </b>@ticket.TicketId</li>
            <li class="list-group-item"><b>Title: </b>@ticket.Title</li>
            <li class="list-group-item"><b>Description: </b>@ticket.Description</li>
            <li class="list-group-item"><b>Status: </b>@ticket.Status</li>
            <li class="list-group-item"><b>Priority: </b>@ticket.Priority</li>
            <li class="list-group-item"><b>Type: </b>@ticket.Type</li>
            <li class="list-group-item"><b>Subtype: </b>@ticket.Subtype</li>
            <li class="list-group-item"><b>Item: </b>@ticket.Item</li>
            <li class="list-group-item"><b>Assignee: </b>@ticket.Assignee</li>
            <li class="list-group-item"><b>Reporter: </b>@ticket.Reporter</li>
            <li class="list-group-item"><b>Created: </b>@ticket.Created</li>
            <li class="list-group-item"><b>Updated: </b>@ticket.Updated</li>
            <li class="list-group-item"><b>Resolution: </b>@ticket.Resolution</li>
            <li class="list-group-item"><b>Comments: </b>@ticket.Comments</li>
            <li class="list-group-item"><b>Attachments: </b>@ticket.Attachments</li>
            <li class="list-group-item"><b>Departments: </b>@ticket.Departments</li>
        </ul>
    }

    <button type="button" class="btn btn-secondary mt-3" onclick="location.href='/Ticket'">Back to Tickets</button>

    @{
        System.Diagnostics.Debug.Assert(Model.Tickets != null, "Model.Tickets != null");
    }
</div>