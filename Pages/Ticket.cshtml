@page
@model AeroAssist.Pages.TicketModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Ticket Queue";
}

<div below-nav>
    <h1>Ticket Queue</h1>
    <p>Use this page to view and manage tickets.</p>
    <ul>
        @if (Model.Tickets != null)
        {
            foreach (var ticket in Model.Tickets)
            {
                <li>@ticket.Title</li>
            }
        } else
        {
            <li>No tickets found.</li>
        }
    </ul>

    <!-- Button to create a ticket -->
    <button onclick="location.href='@Url.Page("/CreateTicket")'" type="button">Create Ticket</button>

    <!-- Button to update a ticket -->
    <!-- Note: Pass the ticket ID to update -->
    @{
        System.Diagnostics.Debug.Assert(Model.Tickets != null, "Model.Tickets != null");
    }
    <button onclick="location.href='@Url.Page("/UpdateTicket", new { id = Model.Tickets.First().TicketId })'" type="button">Update Ticket</button>

    <!-- Button to delete a ticket -->
    <!-- Note: Pass the ticket ID to delete -->
    <button onclick="location.href='@Url.Page("/DeleteTicket", new { id = Model.Tickets.First().TicketId })'" type="button">Delete Ticket</button>
</div>